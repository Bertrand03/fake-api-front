<form (ngSubmit)="onFormSubmitted()" [formGroup]="form">

  <div class="form-group">
    <label for="title">
      Titre de l'article
    </label>
    <input
      type="text"
      id="title"
      class="form-control"
      formControlName="title"
    [(ngModel)]="post.title">
    <!--crochets parenthèses pour mettre à jour dynamiquement la valeur et l'afficher dans la vue -->

    <app-errors-form [control]="form.controls.title" controlLabel="Titre de l'article"></app-errors-form>

  </div>

  <div class="form-group">
    <label for="body">
      Contenu de l'article
    </label>
    <textarea
      id="body"
      class="form-control"
      formControlName="body"
      [(ngModel)]="post.body"></textarea>

    <!--1ere méthode-->
    <!--&lt;!&ndash;Gestion des erreurs pour le controle du textearea, est-ce qu'il est bien rempli&ndash;&gt;-->
    <!--<div *ngIf="form.controls.body.invalid && (form.controls.body.dirty || form.controls.body.touched)"-->
        <!--class="alert alert-danger mt-1">-->
      <!--&lt;!&ndash;Balise "ng-container" qui existe mais qui n'apparait pas dans le DOM. A privilégier par rapport à une div&ndash;&gt;-->
      <!--&lt;!&ndash;ng-container est utile aussi pour les ngFor&ndash;&gt;-->
      <!--&lt;!&ndash;Le ? après errors sert à dire qu'il faut d'abord vérifier cette condition avant de vérifier le required&ndash;&gt;-->
      <!--<ng-container *ngIf="form.controls.body.errors?.required">-->
        <!--Le contenu de l'article est obligatoire-->
      <!--</ng-container>-->

      <!--2eme méthode-->
      <!--En utilisant une méthode générique de gestion d'erreurs-->
      <app-errors-form [control]="form.controls.body" controlLabel="Contenu article"></app-errors-form>

    <!--</div>-->
  </div>

  <button
    type="submit"
    class="btn btn-dark btn-lg text-uppercase"
    [disabled]="form.invalid">
    ENVOYER
  </button>

</form>
